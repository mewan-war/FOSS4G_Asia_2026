# -*- coding: utf-8 -*-

server:
  bind:
    host: 0.0.0.0
    port: 5000
  url: http://localhost:5000

  # -------------------------
  # ENABLE OPENAPI GENERATION
  # -------------------------
  openapi: true
  openapi_url: /openapi

  language: en-US
  languages:
    - en-US

  map:                      # required for HTML UI
    url: https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png
    attribution: OpenStreetMap contributors

# -------------------------
# REQUIRED TOP-LEVEL MAP
# -------------------------
map:
  url: https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png
  attribution: OpenStreetMap contributors

# -------------------------
# LOGGING
# -------------------------
logging:
  level: DEBUG

# -------------------------
# METADATA
# -------------------------
metadata:
  identification:
    title: Local pygeoapi FWI Zarr Server
    description: pygeoapi serving Fire Weather Index (FWI) for India from local Zarr v2 datacube
    keywords:
      - pygeoapi
      - zarr
      - xarray
      - coverage
      - edr
      - fwi
      - fire_weather_index
      - india
      - datacube
    keywords_type: theme
    terms_of_service: none
    url: http://localhost:5000

  license:
    name: Public Domain
    url: https://creativecommons.org/publicdomain/zero/1.0/

  provider:
    name: Local
    url: http://localhost

  contact:
    name: Local User
    city: Localhost
    country: Local

# -------------------------
# COLLECTIONS
# -------------------------
resources:
  fwi_india:
    type: collection
    title: Fire Weather Index (FWI) – India (Zarr v2)
    description: India-clipped Fire Weather Index datacube served from local Zarr v2
    keywords:
      - fwi
      - fire_weather_index
      - india
      - zarr
      - datacube
      - wildfire

    extents:
      spatial:
        bbox:
          - [68.0, 6.0, 98.0, 37.0]
        crs: http://www.opengis.net/def/crs/OGC/1.3/CRS84
      temporal:
        begin: 2016-01-01T00:00:00Z
        end: 2016-12-31T00:00:00Z

    providers:
      # -------------------------
      # OGC API - Coverages
      # -------------------------
      - type: coverage
        name: xarray
        data: /mnt/c/zarr/fwi_india_2016_v2.zarr
        variable: FWI
        x_field: longitude
        y_field: latitude
        time_field: time
        options:
          engine: zarr
          consolidated: true

      # -------------------------
      # OGC API - EDR
      # -------------------------
      - type: edr
        name: xarray-edr
        data: /mnt/c/zarr/fwi_india_2016_v2.zarr
        variable: FWI
        x_field: longitude
        y_field: latitude
        time_field: time
        options:
          engine: zarr
          consolidated: true
